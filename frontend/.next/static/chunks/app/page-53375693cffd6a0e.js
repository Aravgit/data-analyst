(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{8062:(e,s,t)=>{Promise.resolve().then(t.bind(t,8152))},8152:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>i});var a=t(5155),l=t(6046),n=t(2115);let r=t(2818).env.NEXT_PUBLIC_API_BASE||"http://localhost:8000";function i(){let e=(0,l.useRouter)(),[s,t]=(0,n.useState)(null),[i,o]=(0,n.useState)(""),[d,c]=(0,n.useState)(!1),[x,h]=(0,n.useState)("");async function u(){if(h(""),!s&&!i.trim()){h("Choose a CSV file or enter a path on the server.");return}c(!0);try{let t=new FormData;s&&t.append("file",s),i.trim()&&t.append("path",i.trim());let a=await fetch("".concat(r,"/upload"),{method:"POST",body:t});if(!a.ok)throw Error(await a.text());let l=await a.json(),n=new URLSearchParams({session:l.session_id,csv:l.csv_name}).toString();e.push("/chat?".concat(n))}catch(e){h((null==e?void 0:e.message)||"Upload failed.")}finally{c(!1)}}return(0,a.jsx)("main",{className:"mx-auto flex min-h-screen w-full max-w-screen-2xl flex-col gap-10 px-6 py-12",children:(0,a.jsxs)("section",{className:"card grid gap-10 p-10 lg:grid-cols-2",children:[(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("p",{className:"text-sm uppercase tracking-[0.25em] text-indigo-600",children:"Data Concierge"}),(0,a.jsx)("h1",{className:"text-4xl font-semibold leading-tight text-slate-900 lg:text-5xl",children:"Upload a CSV, then chat with an agent that thinks in Python."}),(0,a.jsx)("p",{className:"text-lg text-slate-700",children:"We load your file into a private Python sandbox, so you can ask real questions and get code-backed answers - no notebooks required."}),(0,a.jsxs)("div",{className:"grid gap-3 text-sm text-slate-700 sm:grid-cols-2",children:[(0,a.jsxs)("div",{className:"glass rounded-xl p-4",children:[(0,a.jsx)("p",{className:"text-xs uppercase tracking-[0.2em] text-slate-500",children:"Limits"}),(0,a.jsx)("p",{className:"mt-1 font-semibold text-slate-900",children:"400 MB max CSV \xb7 20k token budget"})]}),(0,a.jsxs)("div",{className:"glass rounded-xl p-4",children:[(0,a.jsx)("p",{className:"text-xs uppercase tracking-[0.2em] text-slate-500",children:"Safety"}),(0,a.jsx)("p",{className:"mt-1 font-semibold text-slate-900",children:"Sandboxed Python with resource caps"})]})]})]}),(0,a.jsxs)("div",{className:"glass relative overflow-hidden rounded-2xl border border-slate-200 p-8 shadow-2xl bg-white",children:[(0,a.jsx)("div",{className:"pointer-events-none absolute -left-12 -top-12 h-40 w-40 rounded-full bg-indigo-100 blur-3xl"}),(0,a.jsx)("div",{className:"pointer-events-none absolute -right-10 bottom-6 h-32 w-32 rounded-full bg-emerald-100 blur-3xl"}),(0,a.jsxs)("div",{className:"relative space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs uppercase tracking-[0.2em] text-slate-500",children:"Step 1"}),(0,a.jsx)("h2",{className:"text-xl font-semibold text-slate-900",children:"Drop your CSV"})]}),(0,a.jsx)("span",{className:"rounded-full bg-indigo-50 px-3 py-1 text-xs text-indigo-700",children:"Instant"})]}),(0,a.jsxs)("label",{className:"block cursor-pointer rounded-xl border border-dashed border-slate-300 bg-slate-50 p-4 text-sm text-slate-800 transition hover:border-indigo-300 hover:bg-indigo-50/60",children:[(0,a.jsx)("input",{type:"file",accept:".csv",className:"hidden",onChange:e=>{var s;return t((null===(s=e.target.files)||void 0===s?void 0:s[0])||null)}}),s?(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-slate-900",children:s.name}),(0,a.jsx)("p",{className:"text-xs text-slate-500",children:"Ready to upload"})]}),(0,a.jsx)("button",{type:"button",onClick:()=>t(null),className:"text-xs text-indigo-600 hover:text-indigo-800",children:"Clear"})]}):(0,a.jsxs)("div",{className:"flex items-center gap-3 text-slate-900",children:[(0,a.jsx)("span",{className:"inline-flex h-10 w-10 items-center justify-center rounded-full bg-indigo-100 text-lg",children:"\uD83D\uDCC4"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:"Choose a CSV file"}),(0,a.jsx)("p",{className:"text-xs text-slate-500",children:"Drag & drop or click to browse"})]})]})]}),(0,a.jsx)("div",{className:"text-center text-xs uppercase tracking-[0.25em] text-slate-500",children:"or"}),(0,a.jsx)("input",{value:i,onChange:e=>o(e.target.value),placeholder:"Path on server (e.g. /data/sales.csv)",className:"w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm text-slate-900 focus:border-indigo-400 focus:outline-none"}),x&&(0,a.jsx)("p",{className:"text-sm text-rose-500",children:x}),(0,a.jsx)("button",{onClick:u,disabled:d,className:"mt-2 w-full rounded-lg bg-indigo-500 px-4 py-3 text-sm font-semibold text-white shadow-lg transition hover:brightness-110 disabled:cursor-not-allowed disabled:opacity-70",children:d?"Uploading...":"Upload and start chatting"})]})]})]})})}},6046:(e,s,t)=>{"use strict";var a=t(6658);t.o(a,"useRouter")&&t.d(s,{useRouter:function(){return a.useRouter}}),t.o(a,"useSearchParams")&&t.d(s,{useSearchParams:function(){return a.useSearchParams}})}},e=>{var s=s=>e(e.s=s);e.O(0,[441,517,358],()=>s(8062)),_N_E=e.O()}]);